# Mood Harbor(気分の港) 要件定義書

## 1. プロダクト概要

### 1.1 プロダクト名
Mood Harbor（ムードハーバー / 気分の港）

### 1.2 コンセプト
**「文字を打たない、タップだけで感情を記録」**

疲れた時に立ち寄れる「港」のような、安心して感情を共有できる場所。
嬉しい時は喜びを発信し、辛い時は励ましを受け取れる。
文字入力は一切不要。すべてタップだけで10秒で完了。
出来事ではなく「感情」だけに集中する、新しい記録体験。

### 1.3 ターゲットユーザー
- 主に学生（高専生、大学生）
- 日々の感情を記録したいが文章を書くのは面倒な人
- 適度なつながりを求めている人
- SNS疲れを感じている人
- 日記が続かなかった人

### 1.4 解決する課題
- 既存の日記アプリは文章を書くのが面倒で続かない
- SNSは常時接続でストレスになる
- 感情を共有したい時に適切な場所がない
- 自由度が高すぎて何を書けばいいかわからない
- 記録に時間がかかりすぎる

### 1.5 競合との差別化
- **文字入力ゼロ**: すべてタップで完結（他の日記アプリは文章入力が必須）
- **10秒で完了**: 超高速で記録できる
- **感情に特化**: 出来事ではなく「どう感じたか」だけを記録
- **適度なつながり**: 自分が望んだ時だけシェア、応援もタップだけ

---

## 2. 主要機能

### 2.1 個人記録機能（プライベート）
**基本方針: すべてタップのみ、文字入力なし、10秒で完了**

#### 2.1.1 記録フロー（3ステップ）

**ステップ1: 今日の気分は？（必須）**
- 5段階の気分アイコンから1つタップ
  - 😊 とても良い（明るい黄色）
  - 🙂 良い（優しいオレンジ）
  - 😐 普通（ニュートラルグレー）
  - 😔 少し疲れた（淡い青）
  - 😢 とても疲れた（深い青）
- タップすると次のステップへ自動遷移

**ステップ2: 気分の理由は？（必須）**
- カテゴリーから1つタップ（最大2つまで選択可能に変更も検討）
  - 📚 勉強・学校
  - 👥 人間関係
  - 💪 体調・健康
  - 🎮 趣味・遊び
  - 💼 バイト・仕事
  - 🏠 家族・家のこと
  - 💤 睡眠
  - 🤔 特に理由なし

**ステップ3: もう1つ質問（必須）**
- 日替わりで質問が変わる（選択式）
- 質問例とその選択肢:
  
  **人とのつながり系:**
  - 「誰かと話した？」
    - たくさん話した / 少し話した / ほとんど話してない
  - 「人と会いたい気分？」
    - 会いたい / 1人がいい / どちらでもない
  
  **活動系:**
  - 「体を動かした？」
    - たくさん / 少し / 全然
  - 「外に出た？」
    - 長時間外出 / 少し外出 / ほぼ家にいた
  
  **達成感系:**
  - 「今日頑張れた？」
    - すごく頑張った / まあまあ / あまり頑張れなかった
  - 「やりたいことできた？」
    - できた / 少しできた / できなかった
  
  **気持ち系:**
  - 「明日が楽しみ？」
    - 楽しみ / 普通 / 憂鬱
  - 「今の気持ちは？」
    - スッキリ / モヤモヤ / 疲れた
  
  **週末用質問:**
  - 「今週どうだった？」（金曜・土曜）
    - 充実してた / 普通 / しんどかった
  - 「来週の気持ちは？」（日曜）
    - 頑張れそう / 不安 / 考えたくない

**完了画面**
- 記録完了のアニメーション
- 連続記録日数の表示
- 「シェアする」「見返す」「完了」ボタン

#### 2.1.2 補足入力（完全オプション）
記録後、「もう少し詳しく」ボタンをタップした場合のみ表示

- **メモ入力**: 10文字以内（絵文字可）
  - プレースホルダー: 「一言だけ（任意）」
  - 制限を超えると入力できない
- **時間帯タグ**: 朝 / 昼 / 夕方 / 夜
- **天気**: 晴れ / 曇り / 雨 / その他

これらはあくまで任意。記録の本質は3ステップのみ。

#### 2.1.3 カレンダー表示
- **月間カレンダービュー**
  - 各日の気分を色で表示（5段階の色）
  - タップで詳細表示
  - 記録していない日は灰色
  - 連続記録日数を目立つ位置に表示

- **詳細表示（日付タップ時）**
  - その日の気分アイコン
  - 選んだ理由カテゴリー
  - 質問と回答
  - メモ（あれば）
  - 時間帯・天気（あれば）
  - シェアしたかどうか
  - 編集・削除ボタン

#### 2.1.4 統計・振り返り機能
**週間サマリー（毎週月曜の朝に通知）**
- 先週の気分グラフ（折れ線グラフ）
- 最も多かった気分
- 記録日数 / 7日
- 最も多かった理由カテゴリー
- 「先週お疲れ様！」などの励ましメッセージ

**月間レポート**
- 月間の気分分布（円グラフ）
- 曜日別の気分傾向
- 理由カテゴリーの割合
- 連続記録最長日数
- よく選んだ質問回答の傾向

**インサイト機能（データが溜まったら）**
- 「雨の日は気分が下がりがち」
- 「日曜の夜は憂鬱になりやすい」
- 「趣味の日は気分が良い」
など、パターンを自動検出して表示

---

### 2.2 感情共有機能（パブリック）
**基本方針: シェアも応援もタップのみ**

#### 2.2.1 シェアフロー
記録完了後、「シェアする」ボタンが表示される（デフォルトは非表示、任意）

**ステップ1: シェアの種類を選ぶ**
- 💙 励まし募集（疲れた時、辛い時）
- 💛 喜びシェア（嬉しい時、楽しい時）
- 💚 頑張った報告（達成感がある時）
- タップで選択、もう一度タップで投稿

**ステップ2: 気持ちを選ぶ（任意、スキップ可）**
各シェア種類ごとに選べる気持ち:

**励まし募集:**
- 😭 とても辛い
- 😔 疲れた
- 😰 不安
- 😣 モヤモヤする

**喜びシェア:**
- 🎉 すごく嬉しい！
- 😊 良いことがあった
- 🥰 幸せ
- ✨ 充実してる

**頑張った報告:**
- 💪 やり切った！
- 📚 勉強頑張った
- 🏃 体動かした
- 🎯 目標達成

**ステップ3: 一言添える（完全オプション、10文字以内）**
- 定型文ボタン:
  - 「疲れた...」「誰か励まして」（励まし募集用）
  - 「嬉しい！」「やった！」（喜びシェア用）
  - 「頑張った」「達成！」（頑張った報告用）
- または自由入力（10文字まで、絵文字可）
- スキップ可能

**投稿内容:**
- 気分アイコン
- シェア種類（励まし/喜び/頑張った）
- 選んだ気持ち
- 一言（あれば）
- 投稿時刻
- ニックネーム/アバター

**投稿しない内容:**
- 理由カテゴリー
- 質問への回答
- 個人メモ
- 個人を特定できる情報

#### 2.2.2 ハーバー（タイムライン）
**構成:**
- 3つのタブで切り替え
  - 💙 励まし募集
  - 💛 喜びシェア
  - 💚 頑張った報告

**表示内容（投稿カード）:**
- アバター
- ニックネーム
- 気分アイコン（大きく表示）
- 選んだ気持ち
- 一言（あれば）
- 投稿時刻（「3分前」「1時間前」形式）
- 応援数（🌟×12 のような表示）
- 応援ボタン

**表示順:**
- 新しい投稿順
- 応援が多い投稿を少し優先（アルゴリズム調整可能）

**投稿の寿命:**
- 24時間で自動削除
- 削除前に「あなたの投稿は○○人に応援されました」と通知

**フィルター機能（上部に配置）:**
- 🏫 同じ学校のみ（オプション）
- 🕐 時間帯（朝/昼/夕/夜）
- すべて表示（デフォルト）

**更新:**
- プルダウンで最新を読み込み
- 新しい投稿がある時は「新着○件」と表示

#### 2.2.3 応援・リアクション機能
**基本方針: タップ1回で応援完了、文字入力なし**

**応援フロー:**
1. 投稿カードの「応援する」ボタンをタップ
2. スタンプ選択画面が表示
3. 1つタップして送信
4. 完了アニメーション

**スタンプの種類（シェア種類ごとに最適化）:**

**励まし募集への応援:**
- 🌟 応援してる！
- 🍀 大丈夫だよ
- ☕️ 無理しないでね
- 🌈 明日はきっといい日
- 💙 一緒に頑張ろう
- 🫂 わかるよ

**喜びシェアへの応援:**
- 🎉 おめでとう！
- 👏 すごい！
- 😊 よかったね
- 💐 嬉しいね
- ✨ 素敵！
- 💛 私も嬉しい

**頑張った報告への応援:**
- 💪 お疲れ様！
- 🏆 やったね！
- 🔥 かっこいい
- ⭐️ すごい！
- 👍 頑張ったね
- 💚 尊敬する

**制限:**
- 1ユーザーが1投稿にできる応援は1回まで
- 自分の投稿には応援できない
- 応援後の取り消しは30秒以内のみ可能（誤タップ対策）

**応援された時:**
- リアルタイムで通知（設定で変更可能）
- 「🌟 だれかさん が応援してくれました」
- タップすると誰がどのスタンプを送ったか見られる

#### 2.2.4 通知設定
**通知される内容:**
- 自分の投稿に応援が来た時（リアルタイム or まとめ）
- 毎日の記録リマインダー（時刻設定可能）
- 週間サマリー（毎週月曜朝）
- 連続記録が途切れそうな時（夜21時に未記録なら通知）

**通知の種類:**
1. **記録リマインダー**
   - 「今日の気分、記録しませんか？⛵️」
   - デフォルト: 21時
   - タップで直接記録画面へ

2. **応援通知**
   - 「🌟 だれかさん があなたを応援してくれました」
   - 即時 / 1日1回まとめ / オフ を選択可能

3. **週間サマリー**
   - 「先週お疲れ様！振り返りを見てみませんか？」
   - 毎週月曜 9時

4. **ストリーク継続通知**
   - 「○日連続記録中！今日も記録しませんか？」
   - 夜21時、未記録の場合のみ

**通知設定:**
- 各通知ごとにオン/オフ切り替え
- 一時停止機能（1日/3日/1週間/無期限）
- おやすみモード（夜間の通知を自動オフ）

---

### 2.3 ユーザー設定機能

#### 2.3.1 プロフィール
- **ニックネーム**
  - 初期設定時に入力（変更可能）
  - 10文字以内
  - 匿名可（ランダム生成も可能: 例「港の旅人123」）

- **アバター**
  - プリセットから選択（30種類以上）
  - カテゴリー: 動物、植物、食べ物、天気など
  - シンプルでかわいいイラスト

- **学校情報（任意）**
  - 学校名を選択（登録されていなければ追加申請）
  - 「同じ学校のみ」フィルターで使用
  - 公開/非公開を選べる

#### 2.3.2 プライバシー設定
- **投稿の公開範囲**
  - 全体公開（デフォルト）
  - 学校限定
  - 公開しない（記録のみ）

- **プロフィールの表示**
  - ニックネームとアバターのみ表示
  - 学校情報は表示/非表示を選択

- **ブロック機能**
  - 特定ユーザーをブロック
  - ブロックしたユーザーの投稿は非表示
  - 相手には通知されない

#### 2.3.3 記録設定
- **リマインダー時刻**
  - 毎日の記録リマインダーの時刻設定
  - デフォルト: 21時
  - オフにも設定可能

- **週間サマリーの曜日**
  - デフォルト: 月曜朝
  - 変更可能

- **質問のカスタマイズ（将来実装）**
  - よく表示される質問
  - 表示したくない質問

---

### 2.4 その他機能

#### 2.4.1 オンボーディング
- 初回起動時のチュートリアル
- サービスの使い方説明
- プライバシーポリシーへの同意

#### 2.4.2 データエクスポート
- 自分の記録をJSON/CSV形式でダウンロード
- GDPR対応

#### 2.4.3 アカウント管理
- メールアドレス + パスワード認証
- Googleアカウント連携（任意）
- アカウント削除機能

---

## 3. 非機能要件

### 3.1 パフォーマンス
- ページ読み込み時間: 2秒以内
- 気分記録の保存: 1秒以内
- タイムライン表示: 3秒以内

### 3.2 セキュリティ
- パスワードのハッシュ化
- HTTPS通信
- XSS/CSRF対策
- 個人情報の暗号化

### 3.3 可用性
- 稼働率: 99%以上
- 定期メンテナンスは深夜帯

### 3.4 スケーラビリティ
- 初期想定: 1000ユーザー
- 将来的に10000ユーザーまで対応

### 3.5 ユーザビリティ
- モバイルファースト設計
- レスポンシブデザイン
- 直感的なUI
- アクセシビリティ対応（ARIA属性）

---

## 4. 技術スタック（想定）

### 4.1 フロントエンド
- **フレームワーク**: Next.js (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **状態管理**: React Context API / Zustand
- **UIライブラリ**: shadcn/ui

### 4.2 バックエンド
- **BaaS**: Supabase
  - 認証
  - データベース (PostgreSQL)
  - リアルタイム機能
  - Storage

### 4.3 インフラ
- **ホスティング**: Vercel
- **データベース**: Supabase (PostgreSQL)
- **ファイルストレージ**: Supabase Storage

### 4.4 その他
- **アナリティクス**: Vercel Analytics
- **エラートラッキング**: Sentry（任意）

---

## 5. データベース設計（概要）

### 5.1 主要テーブル

#### users（ユーザー）
```
id (UUID, PK)
email (string)
nickname (string, max 10 chars)
avatar_id (integer, FK to avatars)
school_id (UUID, FK, nullable)
show_school (boolean, default: false)
created_at (timestamp)
updated_at (timestamp)
```

#### mood_records（気分記録）
```
id (UUID, PK)
user_id (UUID, FK)
mood_level (integer, 1-5)
  - 1: とても疲れた
  - 2: 少し疲れた
  - 3: 普通
  - 4: 良い
  - 5: とても良い
reason_categories (array of enum)
  - 'study', 'relationship', 'health', 'hobby', 'work', 'family', 'sleep', 'none'
daily_question_id (UUID, FK)
daily_answer (string) - 選択した選択肢
optional_memo (string, max 10 chars, nullable)
time_of_day (enum: 'morning', 'afternoon', 'evening', 'night', nullable)
weather (enum: 'sunny', 'cloudy', 'rainy', 'other', nullable)
is_shared (boolean, default: false)
share_type (enum: 'support', 'joy', 'achievement', nullable)
share_emotion (string, nullable) - 選択した気持ち
share_message (string, max 10 chars, nullable)
created_at (timestamp)
```

#### daily_questions（日替わり質問マスター）
```
id (UUID, PK)
question_text (string)
category (enum: 'connection', 'activity', 'achievement', 'emotion', 'weekly')
day_of_week (integer, nullable) - 0-6, nullなら毎日
options (jsonb) - 選択肢の配列
  例: ["たくさん話した", "少し話した", "ほとんど話してない"]
is_active (boolean)
created_at (timestamp)
```

#### reactions（応援・リアクション）
```
id (UUID, PK)
mood_record_id (UUID, FK)
user_id (UUID, FK)
emoji (string) - 選択したスタンプ
created_at (timestamp)
```
*制約: user_id + mood_record_id で UNIQUE*

#### schools（学校）
```
id (UUID, PK)
name (string)
type (enum: 'kosen', 'university', 'high_school', 'other')
is_verified (boolean)
created_at (timestamp)
```

#### avatars（アバターマスター）
```
id (integer, PK)
name (string)
category (enum: 'animal', 'plant', 'food', 'weather', 'other')
image_url (string)
is_active (boolean)
```

#### user_settings（ユーザー設定）
```
user_id (UUID, PK, FK)
reminder_time (time, default: '21:00')
reminder_enabled (boolean, default: true)
notification_realtime (boolean, default: true)
notification_summary (boolean, default: false)
notification_weekly (boolean, default: true)
notification_streak (boolean, default: true)
quiet_hours_start (time, nullable)
quiet_hours_end (time, nullable)
updated_at (timestamp)
```

---

## 6. ユーザーフロー

### 6.1 初回利用（3分で完了）
1. ランディングページ
   - 「タップだけで感情記録」をアピール
   - 「10秒で完了」を強調
   - 「無料で始める」ボタン

2. アカウント作成
   - メールアドレス入力
   - パスワード設定
   - または「Googleで続ける」

3. プロフィール設定（必須項目のみ）
   - ニックネーム入力（10文字以内）
   - アバター選択（30種類から）
   - 学校登録（スキップ可）

4. 簡単なチュートリアル（スキップ可）
   - 「毎日3タップで記録完了」
   - 「シェアして誰かとつながれる」
   - 「応援もタップだけ」
   - アニメーションで視覚的に説明

5. 初回の気分記録
   - 実際の記録フローを体験
   - 完了後に「これだけ！」と表示

### 6.2 日常的な利用 - 記録（10秒で完了）

**パターンA: リマインダー通知から**
1. 通知タップ
2. 記録画面が直接開く
3. 気分を1タップ
4. 理由を1タップ
5. 質問に1タップ
6. 完了アニメーション
7. 「シェアする」or「完了」ボタン

**パターンB: 自発的に開く**
1. アプリアイコンタップ
2. ホーム画面（今日の記録ボタンが目立つ）
3. 「記録する」ボタンタップ
4. 以降は同じフロー

**シェアする場合（+5秒）**
1. 「シェアする」ボタンタップ
2. シェア種類を1タップ（励まし/喜び/頑張った）
3. 気持ちを1タップ（任意、スキップ可）
4. 一言添える（完全オプション、定型文 or 10文字入力）
5. 投稿完了

### 6.3 日常的な利用 - ハーバー閲覧・応援（30秒〜2分）

**応援する流れ**
1. ハーバータブを開く
2. タブ選択（励まし/喜び/頑張った）
3. タイムラインをスクロール
4. 気になる投稿の「応援する」をタップ
5. スタンプを1タップ
6. 完了アニメーション
7. 次の投稿へ or 閉じる

**自分の投稿を確認**
1. ハーバータブ内の「自分の投稿」アイコン
2. 自分がシェアした投稿一覧
3. 応援数と誰が応援してくれたか確認

### 6.4 振り返り（週1回、5分程度）

**週間サマリーから**
1. 月曜朝の通知タップ
2. 先週の気分グラフ表示
3. 記録日数と連続記録
4. 「詳しく見る」でカレンダーへ

**カレンダーから**
1. カレンダータブを開く
2. 色で俯瞰、気になる日をタップ
3. その日の記録詳細を確認
4. スワイプで前後の日を見る

**統計から**
1. 統計タブを開く
2. 月間の気分分布を確認
3. 曜日別傾向やインサイトを見る
4. 「へぇ」と気づきを得る

---

## 7. UI/UX設計方針

### 7.1 デザインコンセプト
- **タップだけで完結**: ボタンは大きく、押しやすく
- **10秒で完了**: 無駄な画面遷移ゼロ、最短経路を最優先
- **温かみのある色使い**: パステルカラー、柔らかいグラデーション
- **視覚的フィードバック**: タップ時のアニメーション、完了時の達成感
- **港のイメージ**: 波、船、灯台などのモチーフ

### 7.2 主要画面

#### 1. ホーム画面
- **中央に大きな「記録する」ボタン**
  - その日の気分を記録済みならチェックマーク付き
  - 未記録なら脈打つようなアニメーション
- **今日の連続記録日数**（大きく表示）
- **カレンダープレビュー**（直近1週間を横スクロール）
- **下部ナビゲーション**
  - ホーム / ハーバー / カレンダー / 統計 / 設定

#### 2. 記録画面
**ステップ1: 気分選択**
- 5つの大きなアイコンボタン（縦並び）
- タップすると拡大アニメーション
- 自動で次へ遷移

**ステップ2: 理由選択**
- 8つのカテゴリーボタン（2列グリッド）
- 複数選択可能（最大2つ、選択されたものにチェック）
- 「次へ」ボタン

**ステップ3: 質問回答**
- 質問文を表示
- 3-4つの選択肢ボタン
- タップで即座に記録完了

**完了画面**
- 「記録完了！」アニメーション（船が港に入るイメージ）
- 連続記録日数を表示（花火やキラキラ）
- 「シェアする」「見返す」「完了」の3ボタン

#### 3. シェア画面（記録後、任意）
**ステップ1: シェア種類選択**
- 3つの大きなカード
  - 💙 励まし募集
  - 💛 喜びシェア
  - 💚 頑張った報告
- タップで選択

**ステップ2: 気持ち選択（任意）**
- 4-6個のボタン（シェア種類に応じて変化）
- 「スキップ」ボタン

**ステップ3: 一言添える（完全オプション）**
- 定型文ボタン4つ
- または10文字入力欄
- 「投稿」ボタン

#### 4. ハーバー画面（タイムライン）
**上部:**
- 3つのタブ（励まし/喜び/頑張った）
- フィルターボタン（学校限定など）

**投稿カード（1枚ずつ大きく表示）:**
- アバター + ニックネーム
- 気分アイコン（大）
- 気持ち
- 一言（あれば）
- 時刻
- 応援数と「応援する」ボタン

**応援ボタンタップ時:**
- モーダルでスタンプ選択
- タップで即送信
- 完了アニメーション

#### 5. カレンダー画面
**月間ビュー:**
- カレンダー形式で気分を色で表示
- 記録した日は色付き、してない日は灰色
- 日付タップで詳細表示

**詳細表示（モーダル）:**
- 上部: 日付
- 気分アイコン（大）
- 理由カテゴリー
- 質問と回答
- メモ（あれば）
- シェアしたかどうか
- 「編集」「削除」ボタン

#### 6. 統計画面
**週間サマリー:**
- 折れ線グラフ（気分の推移）
- 記録日数 / 7
- 最頻気分
- 最頻理由

**月間レポート:**
- 円グラフ（気分分布）
- 曜日別傾向（棒グラフ）
- インサイト（テキストカード）

#### 7. 設定画面
- プロフィール編集
- 通知設定
- プライバシー設定
- データエクスポート
- ログアウト
- アカウント削除

### 7.3 インタラクション

**アニメーション:**
- タップ: バウンス効果
- 遷移: スライドまたはフェード（高速）
- 完了: キラキラ、花火、船が入港など
- ローディング: 波のアニメーション

**フィードバック:**
- タップ時のハプティクス（振動）
- 音（オプション、オフ可能）
- 視覚的な変化（色変更、拡大など）

**エラー処理:**
- 優しい言葉遣い
- 具体的な解決策を提示
- 「戻る」ボタンを明示

### 7.4 レスポンシブデザイン
- モバイルファースト（スマホでの利用を想定）
- タブレットでも快適に使える
- PCでも閲覧可能（主に統計やカレンダー）
- 画面サイズに応じてレイアウト調整

---

## 8. 開発フェーズ

### Phase 1: MVP（最小viable product）
**期間**: 4週間
**目標**: タップだけで完結する記録体験の検証

**Week 1-2: コア記録機能**
- ユーザー認証（メール + パスワード）
- 気分記録フロー（3ステップ）
  - 気分選択（5段階）
  - 理由カテゴリー（8種類）
  - 日替わり質問（10問を用意、選択式）
- カレンダー表示（月間ビュー + 詳細表示）
- 連続記録カウント

**Week 3: シェア&ハーバー機能**
- シェア機能（励まし募集のみ、気持ち選択は5種類）
- ハーバー（タイムライン表示、新しい順）
- 応援機能（スタンプ6種類）
- 投稿の24時間自動削除

**Week 4: 統計&最適化**
- 週間サマリー（簡易版）
- 基本的な統計表示
- 通知機能（記録リマインダーのみ）
- パフォーマンス最適化
- テストユーザーへのリリース

**MVP機能一覧:**
✅ タップだけで10秒記録
✅ 5段階気分 + 8カテゴリー + 日替わり質問
✅ カレンダーと連続記録
✅ 励まし募集シェア
✅ スタンプで応援
✅ 週間サマリー
✅ 記録リマインダー

**含まれない機能:**
❌ 喜びシェア、頑張った報告（Phase 2へ）
❌ 詳細な統計・インサイト
❌ 学校限定表示
❌ Googleログイン

### Phase 2: 機能拡張
**期間**: 4週間
**目標**: シェアの種類を増やし、統計を充実

**追加機能:**
- 喜びシェア、頑張った報告
- それぞれに対応したスタンプ追加
- 月間レポート
- インサイト機能（パターン検出）
- 学校限定フィルター
- Googleログイン
- 応援通知のカスタマイズ
- プロフィール編集機能の充実

### Phase 3: 改善・最適化
**期間**: 継続的
**目標**: ユーザーフィードバックを反映し、体験を向上

**内容:**
- ユーザーフィードバック反映
- A/Bテスト（質問の種類、アニメーションなど）
- パフォーマンス最適化
- 新しい質問の追加
- スタンプの追加
- アバターの追加
- バグ修正

### Phase 4: 先進機能（将来）
**AI機能:**
- 過去の記録から質問を自動生成
- より的確なインサイト提供
- 気分予測（「明日は疲れそう」など）

**ソーシャル機能:**
- ペアリング機能（相互見守り）
- グループ機能（クラス、サークル単位）
- フォロー機能

**記録の拡張:**
- 音声メモ（10秒以内）
- 写真添付（1枚のみ）
- 気分の時系列変化（1日に複数回記録）

---

## 9. 成功指標（KPI）

### 9.1 定量指標

**ユーザー獲得:**
- 初期目標: 100人（3ヶ月後）
- 中期目標: 500人（6ヶ月後）
- 長期目標: 5000人（1年後）

**継続率（最重要）:**
- 7日継続率: 50%以上
- 30日継続率: 30%以上
- 90日継続率: 15%以上
- アクティブユーザー率（MAU/累計登録）: 40%以上

**記録頻度:**
- 週3回以上記録: 60%以上
- 毎日記録: 20%以上
- 平均記録完了時間: 15秒以内

**シェア&コミュニティ:**
- シェア率: 記録の15%以上
- 応援率: シェア投稿の60%以上が1回以上応援される
- 1投稿あたり平均応援数: 3回以上
- ハーバー訪問率: アクティブユーザーの40%以上が週1回以上

**エンゲージメント:**
- 週間サマリー開封率: 50%以上
- カレンダー閲覧率: 月1回以上 70%以上
- 設定変更率: 30%以上（プロフィールやリマインダー）

### 9.2 定性指標

**ユーザー体験:**
- 「簡単で続けやすい」と感じる
- 「10秒で完了」を実感できる
- 「温かいコミュニティ」と感じる
- 「SNSより気楽」と感じる

**感情:**
- 記録すること自体が習慣になる
- シェアして励まされた経験がある
- 誰かを応援して良い気分になった
- 振り返りで自己理解が深まった

**測定方法:**
- ユーザーインタビュー（月1回、5-10人）
- アプリ内フィードバック
- レビュー分析
- NPS（Net Promoter Score）

### 9.3 ビジネス指標（将来）

**成長:**
- 月間成長率: 20%以上
- バイラル係数: 1.2以上（1人が1.2人を招待）
- オーガニック流入率: 60%以上

**マネタイズ（Phase 4以降）:**
- プレミアム転換率: 5%以上
- 月間平均収益（ARPU）: 100円以上
- LTV（顧客生涯価値）: 1200円以上

---

## 10. リスクと対策

### 10.1 想定リスク

**1. 継続率の低さ**
- **リスク**: タップだけでも続かない可能性
- **対策**: 
  - リマインダー通知の最適化（時刻、文言）
  - ストリーク可視化と達成感の演出
  - 週間サマリーで振り返りの価値提供
  - A/Bテストで最適な質問を探る
  - ゲーミフィケーション要素（バッジ、レベルなど）

**2. シェア率の低さ**
- **リスク**: 記録はするがシェアはしない
- **対策**:
  - シェアのハードルを極限まで下げる（タップ2回）
  - シェアした時の反応を可視化
  - 「誰かが励ましを待ってます」通知
  - シェアしたユーザーにバッジ付与

**3. 荒らし・不適切投稿**
- **リスク**: コミュニティの質が下がる
- **対策**:
  - 文字数10文字制限（長文の誹謗中傷を防ぐ）
  - 通報機能（ワンタップで通報）
  - 自動モデレーション（NGワード検出）
  - 複数回通報されたユーザーは投稿制限
  - 最悪の場合はアカウント停止

**4. プライバシー懸念**
- **リスク**: 感情データの扱いに不安
- **対策**:
  - プライバシーポリシーの明示
  - データ暗号化
  - 公開範囲の細かい設定
  - データエクスポート機能
  - アカウント削除で全データ削除

**5. サーバーコスト**
- **リスク**: ユーザー増加でコスト増大
- **対策**:
  - 初期はSupabase無料枠（500MB DB、50GB 帯域）
  - 画像はアバターのみ（プリセット、サーバー保存不要）
  - 24時間で投稿削除（DB容量節約）
  - 段階的にスケール、必要に応じて有料プラン検討

**6. 競合との差別化不足**
- **リスク**: 「よくある日記アプリ」になる
- **対策**:
  - 「タップだけ」を徹底的に訴求
  - 「10秒で完了」を計測・最適化
  - 学生コミュニティに特化
  - 温かいデザインとトーンで差別化
  - ユーザーの声を積極的に反映

**7. モチベーション低下**
- **リスク**: 開発者が途中で諦める
- **対策**:
  - MVPを4週間で必ず完成させる
  - 早期にテストユーザーからフィードバック
  - 小さな成功を積み重ねる
  - コミュニティを作って応援し合う

---

## 11. 今後の拡張可能性

### 11.1 短期的な機能拡張（6ヶ月以内）

**記録の充実:**
- より多様な質問（50問→100問）
- 質問のパーソナライズ（好きな質問が出やすくなる）
- 時間帯別の記録（朝・昼・夜で複数回記録可能）
- 週次・月次の振り返り質問

**コミュニティ機能:**
- 学校別ランキング（応援数、記録継続日数など）
- 応援してくれた人に「ありがとう」を返せる
- 「今日の港」（今日の投稿ダイジェスト）
- 定期的なイベント（例: 「励ましウィーク」）

**統計・分析:**
- より詳細なインサイト
- AIによるパターン検出
- 気分予測（過去のパターンから）
- レポートの共有機能（SNS投稿用画像生成）

### 11.2 中期的な機能拡張（1年以内）

**AI機能:**
- 過去の記録から質問を自動生成
  - 「先週落ち込んでたけど、その後どう?」
  - 「最近テスト多いけど、睡眠取れてる?」
- チャットボット的な対話（オプション）
- 気分改善のアドバイス（科学的根拠に基づく）

**ソーシャル機能:**
- ペアリング機能（1対1で相互見守り）
- グループ機能（クラス、サークル単位）
- フォロー機能（気になる人の投稿を優先表示）
- プライベートメッセージ（慎重に検討）

**記録形式の拡張:**
- 音声メモ（10秒以内、文字起こしも）
- 写真添付（1日1枚まで、感情と紐づけ）
- 動画メッセージ（15秒以内）
- 位置情報（任意、「どこで記録したか」）

**データ活用:**
- データエクスポート（JSON、CSV）
- 他サービスとの連携（Google Calendar、Notionなど）
- APIの公開（サードパーティアプリ開発）

### 11.3 長期的な展望（1年以降）

**マネタイズ:**
- プレミアムプラン（月額300-500円）
  - 詳細な分析機能
  - カスタムテーマ
  - 広告非表示
  - 無制限の記録保存
  - AIアドバイス機能
  - 優先サポート

**B2B展開:**
- 学校向けプラン
  - クラス全体の気分を先生が把握
  - いじめ・不登校の早期発見
  - 匿名で相談できる仕組み
- 企業向けプラン
  - チームの健康状態を可視化
  - メンタルヘルス対策
  - リモートワークでのつながり

**グローバル展開:**
- 多言語対応（英語、中国語、韓国語など）
- 各国の文化に合わせた質問とスタンプ
- タイムゾーン対応

**研究・社会貢献:**
- 匿名化データを研究機関に提供（同意ベース）
- メンタルヘルス研究への貢献
- 学生の気分トレンドレポート公開

---

## 12. まとめ

Mood Harborは、**「タップだけで感情を記録できる」**という明確な差別化を持つ、
新しいタイプの感情記録&共有プラットフォームです。

### 12.1 核となる価値提案

1. **10秒で完了** - 文字を打たない、タップだけの記録
2. **感情に特化** - 出来事ではなく「どう感じたか」だけを記録
3. **適度なつながり** - 疲れた時は励まされ、嬉しい時は喜びを分かち合える
4. **続けやすい** - 超低いハードル、視覚的フィードバック、習慣化の仕組み
5. **温かいコミュニティ** - 応援文化、攻撃的な投稿ができない設計

### 12.2 ターゲット

- 学生（高専生、大学生）を中心とした若年層
- 日記は続かないが感情は記録したい人
- SNS疲れを感じている人
- 適度なつながりを求めている人

### 12.3 開発の進め方

- **Week 1-4**: MVP開発（コア機能のみ）
- **Week 5-8**: フィードバック収集と改善
- **Week 9-12**: 機能拡張（喜びシェア、詳細統計）
- **3ヶ月後**: 100ユーザー獲得、継続率30%達成

### 12.4 成功の鍵

1. **記録の簡単さ** - 本当に10秒で完了するか常に検証
2. **継続の仕組み** - リマインダー、ストリーク、振り返りの最適化
3. **コミュニティの温かさ** - 応援文化の醸成、荒らし対策
4. **データの蓄積** - 記録が溜まることで得られる価値の提供
5. **ユーザーの声** - フィードバックを真摯に受け止め、改善を続ける

Mood Harborで、誰もが気軽に感情を記録し、温かくつながれる「気分の港」を作りましょう。
